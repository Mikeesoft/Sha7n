<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      background-color: #f9f9f9;
      padding: 30px;
      color: #333;
    }

    .container {
      max-width: 400px;
      margin: auto;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      padding: 25px;
      text-align: right;
    }

    h2 {
      font-size: 20px;
      margin-bottom: 15px;
    }

    .info {
      margin: 15px 0;
      font-size: 16px;
      line-height: 1.6;
    }

    input[type="text"] {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 14px;
    }

    button {
      background-color: #28a745;
      color: white;
      border: none;
      width: 100%;
      padding: 12px;
      font-size: 16px;
      margin-top: 20px;
      border-radius: 8px;
      cursor: pointer;
    }

    button:hover {
      background-color: #218838;
    }

    .note {
      font-size: 14px;
      color: #777;
      margin-top: 15px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2 id="title">Ø¬Ø§Ø±ÙŠ ØªØ¬Ù‡ÙŠØ² Ø·Ù„Ø¨Ùƒ...</h2>

    <div class="info" id="details">
      <!-- ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ -->
    </div>

    <label for="txn">Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ„:</label>
    <input type="text" id="txn" placeholder="Ø§ÙƒØªØ¨ Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ù‡Ù†Ø§" />

    <button onclick="submitPayment()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹</button>

    <div class="note">Ø³ÙŠØªÙ… Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø®Ù„Ø§Ù„ Ø¯Ù‚Ø§Ø¦Ù‚ Ù‚Ù„ÙŠÙ„Ø©.</div>
  </div>

<script>
  // Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·
  const urlParams = new URLSearchParams(window.location.search);
  const game = urlParams.get("game") || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯";
  const pack = urlParams.get("pack") || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯";
  const playerId = urlParams.get("playerId") || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯";
  const method = "ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´";
  const price = getPrice(pack);

  // Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„ØµÙØ­Ø©
  document.getElementById("title").innerText = `âœ… Ø¬Ø§Ø±ÙŠ ØªØ¬Ù‡ÙŠØ² Ø·Ù„Ø¨Ùƒ Ù„Ø´Ø­Ù† ${game} â€“ ${pack} UC`;

  document.getElementById("details").innerHTML = `
    ğŸ†” ID Ø§Ù„Ù„Ø§Ø¹Ø¨: <strong>${playerId}</strong><br>
    ğŸ’° Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: <strong>${price} Ø¬Ù†ÙŠÙ‡</strong><br>
    ğŸ“² Ø¨Ø±Ø¬Ø§Ø¡ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¨Ù„Øº Ø¥Ù„Ù‰:<br>
    <strong>01029527600</strong> (ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´)
  `;

  function getPrice(pack) {
    switch (pack) {
      case "10": return 6;
      case "30": return 18;
      case "60": return 35;
      default: return "ØŸ";
    }
  }

  function submitPayment() {
    const txnId = document.getElementById("txn").value.trim();
    if (txnId === "") {
      alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ©.");
      return;
    }

    // ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ ØªØªØ¨Ø¹ ÙØ±ÙŠØ¯
    const trackCode = "TRK" + Math.floor(Math.random() * 1000000);

    const botToken = "8043918635:AAH9FylLNHmbeESOL5w3exilErORvJh9VpU";
    const chatId = "7277765106";

    const message = `ğŸ•¹ï¸ Ø·Ù„Ø¨ Ø´Ø­Ù† Ø¬Ø¯ÙŠØ¯:\n\nğŸ® Ø§Ù„Ù„Ø¹Ø¨Ø©: ${game}\nğŸ“¦ Ø§Ù„Ø¨Ø§Ù‚Ø©: ${pack} UC\nğŸ’° Ø§Ù„Ø³Ø¹Ø±: ${price} Ø¬Ù†ÙŠÙ‡\nğŸ†” ID Ø§Ù„Ù„Ø§Ø¹Ø¨: ${playerId}\nğŸ’³ ÙˆØ³ÙŠÙ„Ø© Ø§Ù„Ø¯ÙØ¹: ${method}\nğŸ” Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ©: ${txnId}\n\nğŸ§¾ ÙƒÙˆØ¯ Ø§Ù„ØªØªØ¨Ø¹: ${trackCode}`;

    const url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`;

    fetch(url)
      .then(response => response.json())
      .then(data => {
        // Ø¹Ø±Ø¶ ÙƒÙˆØ¯ Ø§Ù„ØªØªØ¨Ø¹ Ù„Ù„Ø¹Ù…ÙŠÙ„
        alert(`âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­!\nğŸ§¾ ÙƒÙˆØ¯ ØªØªØ¨Ø¹Ùƒ: ${trackCode}`);
        window.location.href = "index.html";
      })
      .catch(err => {
        alert("âŒ Ø­ØµÙ„ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨.");
        console.error(err);
      });
  }
</script>
</body>
</html>